(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[285],{1308:function(e,a,n){Promise.resolve().then(n.bind(n,3522))},3522:function(e,a,n){"use strict";n.r(a),n.d(a,{default:function(){return m}});var t=n(3827),i=n(8792),r=n(4983),l=n(4090),s=n(7907),o=n(6858);let c=[{id:"starter",name:"Starter",price:89e3,description:"Cocok untuk proyek personal ringan dan pekerjaan bersih-bersih cepat.",features:["Background Remover: 3x per day","Visual generation: 15 images per day","3 active projects at a time","Save and reuse prompts","Side panel extension access"]},{id:"pro",name:"Pro",price:199e3,description:"Untuk pembuat slide yang sering butuh output lebih cepat dan lebih banyak opsi.",features:["Everything in Starter","Background Remover: 15x per day","Visual generation: 20 images per day","Up to 3 variants per prompt","10 active projects at a time","Priority processing queue"]},{id:"premium",name:"Premium",price:359e3,description:"Untuk workflow produksi berat yang butuh output dan kecepatan lebih tinggi.",features:["Everything in Pro","Background Remover: 40x per day","Visual generation: 40 images per day","Up to 5 variants per prompt","Highest priority queue"]}],u=e=>"Rp".concat(e.toLocaleString("id-ID"));function d(){let e="Mid-client-gqvDAXlPV7s4wn25",a=(0,s.useRouter)(),n=(0,s.useSearchParams)().get("plan"),d=c.some(e=>e.id===n)?n:"pro",[m,p]=(0,l.useState)(d),[h,g]=(0,l.useState)(""),[f,x]=(0,l.useState)(""),[j,k]=(0,l.useState)(""),[b,y]=(0,l.useState)(""),[v,S]=(0,l.useState)(!1),[N,w]=(0,l.useState)(!1),[I,C]=(0,l.useState)(!1),[R,O]=(0,l.useState)(null),[P,_]=(0,l.useState)(null),[E,M]=(0,l.useState)(null),[U,K]=(0,l.useState)(null),[A,D]=(0,l.useState)(!1),T=(0,l.useMemo)(()=>{var e;return null!==(e=c.find(e=>e.id===m))&&void 0!==e?e:c[1]},[m]),B=(0,l.useMemo)(()=>n&&c.some(e=>e.id===n)?"/checkout?plan=".concat(n):"/checkout",[n]),F=A&&!E;(0,l.useEffect)(()=>{let e=(0,o.bW)(),a=(0,o.IW)();M(e),K(a),(null==a?void 0:a.email)&&x(a.email),D(!0)},[]),(0,l.useEffect)(()=>{var e;(null===(e=window.snap)||void 0===e?void 0:e.pay)&&C(!0)},[]),(0,l.useEffect)(()=>{A&&!E&&a.replace("/pricing?next=".concat(encodeURIComponent(B),"#login"))},[E,B,A,a]);let J=async()=>{var a,n;if(N)return;if(!E){O("Silakan login terlebih dahulu untuk melanjutkan pembayaran.");return}let t=(null!==(a=null==U?void 0:U.email)&&void 0!==a?a:f).trim();if(!h.trim()||!t||!j.trim()){O("Mohon lengkapi nama, email, dan nomor telepon.");return}if(!v){O("Mohon setujui Syarat dan Ketentuan serta Kebijakan Refund.");return}if(!e){O("Midtrans client key belum diatur. Hubungi admin untuk melanjutkan.");return}let i=window.snap;if(!i){O("Snap belum siap. Silakan coba lagi dalam beberapa detik.");return}I||C(!0),w(!0),O(null);let r={plan_id:T.id,name:h.trim(),email:t,phone:j.trim(),company:b.trim()||void 0};try{let e=await fetch("".concat("/api","/payments/midtrans/token"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(E)},body:JSON.stringify(r)}),a=await e.json().catch(()=>null);if(!e.ok){O(null!==(n=null==a?void 0:a.detail)&&void 0!==n?n:"Gagal memulai pembayaran. Coba lagi sebentar.");return}let t=null==a?void 0:a.order_id,l=null==a?void 0:a.token;if(!t||!l){O("Response Midtrans tidak lengkap. Silakan coba lagi.");return}_({id:t,planName:T.name,amount:T.price,customer:{name:r.name,email:r.email,phone:r.phone,company:r.company},createdAt:new Date().toISOString()}),i.pay(l,{onSuccess:()=>{window.location.href="/payment/finish?order_id=".concat(encodeURIComponent(t))},onPending:()=>{window.location.href="/payment/unfinish?order_id=".concat(encodeURIComponent(t))},onError:()=>{window.location.href="/payment/error?order_id=".concat(encodeURIComponent(t))},onClose:()=>{O("Pembayaran ditutup sebelum selesai. Silakan coba lagi.")}})}catch(e){O("Tidak dapat menghubungi server pembayaran. Coba lagi sebentar.")}finally{w(!1)}};return(0,t.jsxs)("main",{className:"page",children:[e?(0,t.jsx)(r.default,{src:"https://app.sandbox.midtrans.com/snap/snap.js","data-client-key":e,strategy:"afterInteractive",onLoad:()=>C(!0)}):null,(0,t.jsxs)("div",{className:"container",children:[(0,t.jsxs)("div",{className:"nav",children:[(0,t.jsxs)("div",{className:"brand",children:[(0,t.jsx)("div",{className:"brand-mark",children:(0,t.jsx)("img",{src:"/logo.png",alt:"ODIN logo"})}),(0,t.jsx)("span",{children:"ODIN"})]}),(0,t.jsx)(i.default,{className:"nav-link",href:"/pricing",children:"Kembali ke pricing"})]}),(0,t.jsxs)("section",{className:"hero",children:[(0,t.jsx)("h1",{children:"Checkout ODIN"}),(0,t.jsx)("p",{children:"Lengkapi detail pemesanan di bawah ini. Pembayaran dilakukan via Midtrans (sandbox)."})]}),(0,t.jsxs)("section",{className:"checkout-grid",children:[(0,t.jsx)("div",{className:"card",children:(0,t.jsxs)("div",{className:"form-grid",children:[F?(0,t.jsxs)("div",{className:"auth-gate",children:[(0,t.jsx)("p",{children:"Untuk lanjut ke pembayaran, silakan login dulu di halaman pricing."}),(0,t.jsx)("button",{className:"cta-btn",type:"button",onClick:()=>{a.push("/pricing?next=".concat(encodeURIComponent(B),"#login"))},children:"Masuk di pricing"})]}):null,(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"summary-title",children:"Pilih paket"}),(0,t.jsx)("p",{className:"summary-meta",children:"Anda bisa ganti paket langsung di halaman ini."}),(0,t.jsx)("div",{className:"plan-options",children:c.map(e=>(0,t.jsxs)("button",{type:"button",className:"plan-option","data-active":m===e.id,onClick:()=>p(e.id),children:[(0,t.jsx)("span",{className:"plan-option-title",children:e.name}),(0,t.jsx)("span",{className:"plan-option-price",children:u(e.price)})]},e.id))})]}),(0,t.jsxs)("label",{htmlFor:"full-name",children:["Nama lengkap",(0,t.jsx)("input",{id:"full-name",type:"text",value:h,onChange:e=>g(e.target.value),placeholder:"Nama sesuai invoice"})]}),(0,t.jsxs)("label",{htmlFor:"email",children:["Email (akun login)",(0,t.jsx)("input",{id:"email",type:"email",value:f,readOnly:!!(null==U?void 0:U.email),"data-locked":!!(null==U?void 0:U.email),onChange:e=>{(null==U?void 0:U.email)||x(e.target.value)},placeholder:"email@perusahaan.com"})]}),(0,t.jsxs)("label",{htmlFor:"phone",children:["Nomor telepon / WhatsApp",(0,t.jsx)("input",{id:"phone",type:"tel",value:j,onChange:e=>k(e.target.value),placeholder:"08xxxxxxxxxx"})]}),(0,t.jsxs)("label",{htmlFor:"company",children:["Nama perusahaan (opsional)",(0,t.jsx)("input",{id:"company",type:"text",value:b,onChange:e=>y(e.target.value),placeholder:"Nama perusahaan"})]}),(0,t.jsxs)("label",{className:"legal-check",htmlFor:"agree",children:[(0,t.jsx)("input",{id:"agree",type:"checkbox",checked:v,onChange:e=>S(e.target.checked)}),(0,t.jsxs)("span",{children:["Saya setuju dengan"," ",(0,t.jsx)(i.default,{href:"/terms",children:"Syarat dan Ketentuan"})," serta"," ",(0,t.jsx)(i.default,{href:"/refund",children:"Kebijakan Refund"}),"."]})]}),R?(0,t.jsx)("p",{className:"form-error",children:R}):null,(0,t.jsx)("button",{className:"cta-btn",type:"button",onClick:J,disabled:N||F,children:N?"Memproses...":"Lanjut ke pembayaran"}),(0,t.jsx)("p",{className:"cta-footnote",children:"Transaksi ini menggunakan sandbox Midtrans untuk uji coba. Status final diverifikasi lewat sistem."}),P?(0,t.jsxs)("div",{className:"confirmation",children:[(0,t.jsx)("h3",{children:"Konfirmasi pesanan"}),(0,t.jsx)("p",{children:"Pesanan Anda sudah tercatat. Selesaikan pembayaran lewat popup Midtrans."}),(0,t.jsxs)("ul",{children:[(0,t.jsxs)("li",{children:["Order ID: ",P.id]}),(0,t.jsxs)("li",{children:["Paket: ",P.planName]}),(0,t.jsxs)("li",{children:["Total: ",u(P.amount)]}),(0,t.jsxs)("li",{children:["Email: ",P.customer.email]}),(0,t.jsxs)("li",{children:["Telepon: ",P.customer.phone]})]})]}):null]})}),(0,t.jsxs)("aside",{className:"card",children:[(0,t.jsx)("h2",{className:"summary-title",children:"Ringkasan pesanan"}),(0,t.jsx)("p",{className:"summary-meta",children:T.description}),(0,t.jsx)("ul",{className:"summary-list",children:T.features.map(e=>(0,t.jsx)("li",{children:e},e))}),(0,t.jsxs)("div",{className:"summary-total",children:[(0,t.jsx)("span",{children:"Total"}),(0,t.jsx)("span",{children:u(T.price)})]}),(0,t.jsx)("p",{className:"summary-meta",children:"Harga sudah termasuk akses web app dan side panel extension sesuai paket."})]})]}),(0,t.jsxs)("footer",{className:"footer",children:[(0,t.jsx)("div",{children:"Butuh bantuan? Hubungi kami di donnyrp@odinlabs.id atau 082120998792."}),(0,t.jsxs)("div",{className:"footer-links",children:[(0,t.jsx)(i.default,{href:"/terms",children:"Syarat dan Ketentuan"}),(0,t.jsx)(i.default,{href:"/refund",children:"Kebijakan Refund"}),(0,t.jsx)(i.default,{href:"/contact",children:"Kontak"})]})]})]})]})}function m(){return(0,t.jsx)(l.Suspense,{fallback:(0,t.jsx)("div",{className:"checkout-page"}),children:(0,t.jsx)(d,{})})}},6858:function(e,a,n){"use strict";n.d(a,{IW:function(){return g},NL:function(){return d},Rn:function(){return f},bW:function(){return h},dN:function(){return c},gY:function(){return o},ln:function(){return p},mQ:function(){return k},nt:function(){return x},qt:function(){return u},uB:function(){return m},v0:function(){return j}});let t="odin.workspace.project",i="odin.workspace.active_project",r="odin.workspace.auth_token",l="odin.workspace.auth_profile",s=()=>!0,o=()=>{let e=new Date().toISOString();return{id:"local-project",name:"Untitled project",createdAt:e,updatedAt:e,autosaveStatus:"ready",results:[],generationStatus:"idle",generationError:null,pendingSlots:0}},c=e=>{s()&&window.localStorage.setItem(i,e)},u=()=>{s()&&window.localStorage.removeItem(i)},d=()=>s()?window.localStorage.getItem(i):null,m=e=>{s()&&window.localStorage.setItem(r,e)},p=e=>{if(s())try{window.localStorage.setItem(l,JSON.stringify(e))}catch(e){}},h=()=>s()?window.localStorage.getItem(r):null,g=()=>{if(!s())return null;let e=window.localStorage.getItem(l);if(!e)return null;try{return JSON.parse(e)}catch(e){return null}},f=()=>{s()&&(window.localStorage.removeItem(r),window.localStorage.removeItem(l))},x=()=>{if(!s())return o();try{var e;let a=window.localStorage.getItem(t);if(!a)return o();let n=JSON.parse(a);return{...o(),...n,pendingSlots:null!==(e=n.pendingSlots)&&void 0!==e?e:0}}catch(e){return o()}},j=e=>{if(s())try{window.localStorage.setItem(t,JSON.stringify(e))}catch(e){}},k=()=>{s()&&window.localStorage.removeItem(t)}}},function(e){e.O(0,[250,305,971,69,744],function(){return e(e.s=1308)}),_N_E=e.O()}]);